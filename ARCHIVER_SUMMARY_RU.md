# –ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä Kolibri OS - –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç PR —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è Kolibri OS —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–≥–æ —Å–∂–∞—Ç–∏—è. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É C, CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –ø—Ä–∏–≤—è–∑–∫–∏ Python, —ç–∫—Å–ø–æ—Ä—Ç—ã WASM, –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.

## –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **–Ø–¥—Ä–æ –¥–≤–∏–∂–∫–∞ —Å–∂–∞—Ç–∏—è**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `backend/src/compress.c`, `backend/include/kolibri/compress.h`
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
     - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–≥–æ —Å–∂–∞—Ç–∏—è (–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π + LZ77 + RLE)
     - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ (—Ç–µ–∫—Å—Ç, –±–∏–Ω–∞—Ä–Ω—ã–π, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
     - –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ CRC32 –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
     - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∂–∞—Ç–∏—è —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
     - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞–º–∏**
   - –°–æ–∑–¥–∞–Ω–∏–µ, –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–Ω–æ–≥–æ—Ñ–∞–π–ª–æ–≤—ã–º–∏ –∞—Ä—Ö–∏–≤–∞–º–∏
   - –§–æ—Ä–º–∞—Ç –∞—Ä—Ö–∏–≤–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π –∑–∞–ø–∏—Å–µ–π
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 1024 —Ñ–∞–π–ª–æ–≤ –Ω–∞ –∞—Ä—Ö–∏–≤
   - –°–∂–∞—Ç–∏–µ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞

3. **CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `apps/kolibri_archiver.c`
   - –ö–æ–º–∞–Ω–¥—ã: compress, decompress, create, add, extract, list, test
   - –£–¥–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
   - –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–∞–≤–∫–∏

4. **Python API**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `backend/python/kolibri_compress.py`
   - –ü—Ä–∏–≤—è–∑–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ ctypes
   - –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ç–∏–ø–æ–≤
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã

5. **–≠–∫—Å–ø–æ—Ä—Ç—ã WebAssembly**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `backend/src/wasm_bridge.c`
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è compress, decompress, checksum, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
   - –ì–æ—Ç–æ–≤—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–µ–±-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

6. **–¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `tests/test_compress.c`
   - 8 —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏—Ö:
     - –ë–∞–∑–æ–≤–æ–µ —Å–∂–∞—Ç–∏–µ/—Ä–∞—Å–ø–∞–∫–æ–≤–∫—É
     - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å–∂–∞—Ç–∏—è
     - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
     - –ü—Ä–æ–≤–µ—Ä–∫—É –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã
     - –û–±—Ä–∞–±–æ—Ç–∫—É –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
     - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∞—Ä—Ö–∏–≤–∞–º–∏
     - –û–±—Ä–∞–±–æ—Ç–∫—É –ø—É—Å—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö
     - –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞

7. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: `docs/archiver_ru.md` (11–ö–ë)
   - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: `apps/README_ARCHIVER_RU.md` (3.8–ö–ë)
   - –û–±–Ω–æ–≤–ª—ë–Ω –æ—Å–Ω–æ–≤–Ω–æ–π README
   - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Å–±–æ—Ä–∫–∏

- –û–±–Ω–æ–≤–ª—ë–Ω `CMakeLists.txt` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥—É–ª—è —Å–∂–∞—Ç–∏—è
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–±–æ—Ä–∫–∏:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–∏–Ω–∫–æ–≤–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ü–µ–ª—å –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ü–µ–ª—å —Ç–µ—Å—Ç–∞ —Å–∂–∞—Ç–∏—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∂–∞—Ç–∏—è

```
–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ ‚Üí LZ77 ‚Üí RLE ‚Üí –°–∂–∞—Ç—ã–π –≤—ã–≤–æ–¥
                                                             ‚Üì
                                                    [–ó–∞–≥–æ–ª–æ–≤–æ–∫ + –î–∞–Ω–Ω—ã–µ]
```

**–ú–µ—Ç–æ–¥—ã:**
1. **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**: –î–µ–ª—å—Ç–∞-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
2. **LZ77**: –°–ª–æ–≤–∞—Ä–Ω–æ–µ —Å–∂–∞—Ç–∏–µ —Å–æ —Å–∫–æ–ª—å–∑—è—â–∏–º –æ–∫–Ω–æ–º 4–ö–ë, —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –¥–æ 255 –±–∞–π—Ç
3. **RLE**: –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏–Ω —Å–µ—Ä–∏–π –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –∏–∑ 4+ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –±–∞–π—Ç

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–π—Ç–æ–≤-–º–∞—Ä–∫–µ—Ä–æ–≤ –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –¶–µ–ø–æ—á–∫–∞ –º–µ—Ç–æ–¥–æ–≤ —Å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ –±—É—Ñ–µ—Ä–∞–º–∏
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥—ã, —É–ª—É—á—à–∞—é—â–∏–µ —Å–∂–∞—Ç–∏–µ
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

**–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∂–∞—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ (64 –±–∞–π—Ç–∞):**
- Magic: 0x4B4C4252 ("KLBR")
- –í–µ—Ä—Å–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Ä–∞–∑–º–µ—Ä—ã
- –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ CRC32
- –¢–∏–ø —Ñ–∞–π–ª–∞
- –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

**–§–æ—Ä–º–∞—Ç –∞—Ä—Ö–∏–≤–∞:**
- Magic: 0x4B415243 ("KARC")
- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–ø–∏—Å–µ–π —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–æ–≤
- –°–∂–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç (17 –±–∞–π—Ç): 0.3x (–Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –¥–ª—è –º–∞–ª—ã—Ö —Ñ–∞–π–ª–æ–≤)
- –°—Ä–µ–¥–Ω–∏–π —Ç–µ–∫—Å—Ç (125 –±–∞–π—Ç): 0.97x 
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ (10–ö–ë): 5-40x
- –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (1–ú–ë): —Ç–∏–ø–∏—á–Ω–æ 6x

**–°–∫–æ—Ä–æ—Å—Ç—å:**
- –í—Ä–µ–º—è —Å–∂–∞—Ç–∏—è: < 1–º—Å –¥–ª—è –º–∞–ª—ã—Ö —Ñ–∞–π–ª–æ–≤, ~50-200 –ú–ë/—Å –¥–ª—è –±–æ–ª—å—à–∏—Ö
- –†–∞—Å–ø–∞–∫–æ–≤–∫–∞: –û–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ —Å–∂–∞—Ç–∏—è

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **–ê–Ω–∞–ª–∏–∑ CodeQL**: –£—è–∑–≤–∏–º–æ—Å—Ç–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
- –ù–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–π –±—É—Ñ–µ—Ä–∞
- –ù–µ—Ç use-after-free
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü –ø–æ –≤—Å–µ–º—É –∫–æ–¥—É

**–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –ø—Ä–∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –≤–æ –≤—Å–µ—Ö —Ü–∏–∫–ª–∞—Ö —Å–∂–∞—Ç–∏—è/—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω—É–ª–µ–≤—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–¥ –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
- –ö–æ–¥—ã –æ—à–∏–±–æ–∫ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## –ü—Ä–∏–º–µ—Ä—ã API

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ C

```c
#include "kolibri/compress.h"

// –°–∂–∞—Ç—å
KolibriCompressor *comp = kolibri_compressor_create(KOLIBRI_COMPRESS_ALL);
uint8_t *compressed = NULL;
size_t compressed_size = 0;
KolibriCompressStats stats;

kolibri_compress(comp, input_data, input_size,
                 &compressed, &compressed_size, &stats);

printf("–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: %.2fx\n", stats.compression_ratio);

// –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å
uint8_t *decompressed = NULL;
size_t decompressed_size = 0;
kolibri_decompress(compressed, compressed_size,
                   &decompressed, &decompressed_size, NULL);

// –û—á–∏—Å—Ç–∫–∞
kolibri_compressor_destroy(comp);
free(compressed);
free(decompressed);
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI

```bash
# –°–∂–∞—Ç—å
$ ./build/kolibri_archiver compress input.txt output.klb
–°–∂–∞—Ç–∏–µ 'input.txt' –≤ 'output.klb'...
–°–∂–∞—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!
–ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä:    125 –±–∞–π—Ç
–°–∂–∞—Ç—ã–π —Ä–∞–∑–º–µ—Ä:      129 –±–∞–π—Ç
–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è: 0.97x
–¢–∏–ø —Ñ–∞–π–ª–∞:          –¢–µ–∫—Å—Ç
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã: LZ77
–í—Ä–µ–º—è —Å–∂–∞—Ç–∏—è: 0.03 –º—Å
–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞: 0xDEADBEEF

# –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤
$ ./build/kolibri_archiver create backup.kar
$ ./build/kolibri_archiver add backup.kar file1.txt
$ ./build/kolibri_archiver add backup.kar file2.pdf
$ ./build/kolibri_archiver list backup.kar
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Python

```python
from backend.python import kolibri_compress

# –°–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
data = b"Hello, World!" * 100
compressed, stats = kolibri_compress.compress(data)
print(f"–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: {stats.compression_ratio:.2f}x")

# –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
stats = kolibri_compress.compress_file("input.txt", "output.klb")
kolibri_compress.decompress_file("output.klb", "restored.txt")
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–±–æ—Ä–∫–∞ —Å —Ç–µ—Å—Ç–∞–º–∏
cmake -S . -B build -DKOLIBRI_ENABLE_TESTS=ON
cmake --build build

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å–∂–∞—Ç–∏—è
./build/test_compress

# –¢–µ—Å—Ç CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
./build/kolibri_archiver test myfile.txt
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –±—É–¥—É—â–∞—è —Ä–∞–±–æ—Ç–∞

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å–∂–∞—Ç–∏—è**: —Ç–∏–ø–∏—á–Ω–æ 5-40x (–Ω–µ 300,000x, —É–ø–æ–º—è–Ω—É—Ç—ã–µ –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö)
   - –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ —Ç–µ–æ—Ä–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ - —Å–∂–∞—Ç–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä—å –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∏—á—å —Ç–∞–∫–∏—Ö —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç —Å–∂–∞—Ç–∏—è —Å –ø–æ—Ç–µ—Ä—è–º–∏ –∏–ª–∏ –æ—á–µ–Ω—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤

2. **–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤—ã—Å–æ–∫–æ–ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –¥–∞–Ω–Ω—ã—Ö —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ª–æ—è–º–∏ —Å–∂–∞—Ç–∏—è –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ï—â—ë –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ SIMD

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –°–ª–æ–π –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –•–∞—Ñ—Ñ–º–∞–Ω–∞ –¥–ª—è —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω–æ–≥–æ —Å–∂–∞—Ç–∏—è
- [ ] –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —Ñ–æ—Ä–º—É–ª—å–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –¥–µ–ª—å—Ç—ã)
- [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- [ ] –ü–æ—Ç–æ–∫–æ–≤—ã–π API –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å–µ—Ç–µ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
- [ ] SIMD –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ü–∏–∫–ª–æ–≤ —Å–∂–∞—Ç–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω—è —Å–∂–∞—Ç–∏—è (–±—ã—Å—Ç—Ä–æ/—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ)
- [ ] –õ—É—á—à–∞—è —ç–≤—Ä–∏—Å—Ç–∏–∫–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ/–¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
backend/include/kolibri/compress.h          (–ù–û–í–´–ô, 4–ö–ë)
backend/src/compress.c                      (–ù–û–í–´–ô, 26–ö–ë)
backend/python/kolibri_compress.py          (–ù–û–í–´–ô, 9–ö–ë)
backend/src/wasm_bridge.c                   (–ò–ó–ú–ï–ù–Å–ù, +40 —Å—Ç—Ä–æ–∫)
apps/kolibri_archiver.c                     (–ù–û–í–´–ô, 14–ö–ë)
apps/README_ARCHIVER_RU.md                  (–ù–û–í–´–ô, 3.8–ö–ë)
docs/archiver_ru.md                         (–ù–û–í–´–ô, 11–ö–ë)
tests/test_compress.c                       (–ù–û–í–´–ô, 13–ö–ë)
CMakeLists.txt                              (–ò–ó–ú–ï–ù–Å–ù)
README.md                                   (–ò–ó–ú–ï–ù–Å–ù)

–ü–ª—é—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫:
backend/include/kolibri/knowledge.h         (–ò–ó–ú–ï–ù–Å–ù)
backend/src/knowledge.c                     (–ò–ó–ú–ï–ù–Å–ù)
backend/src/knowledge_server.c              (–ò–ó–ú–ï–ù–Å–ù)
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏

‚úÖ **–°–±–æ—Ä–∫–∞**: –£—Å–ø–µ—à–Ω–æ
‚úÖ **–¢–µ—Å—Ç—ã**: –ö–æ–º–ø–∏–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ê–Ω–∞–ª–∏–∑ CodeQL –ø—Ä–æ–π–¥–µ–Ω
‚úÖ **CLI**: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∫–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç PR —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≥–æ—Ç–æ–≤—É—é –∫ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É —Å–∏—Å—Ç–µ–º—É –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è Kolibri OS —Å:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–≥–æ —Å–∂–∞—Ç–∏—è
- –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–º API (C, Python, WASM)
- –ü–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é
- –ü–æ–∫—Ä—ã—Ç–∏–µ–º —Ç–µ—Å—Ç–∞–º–∏

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ—á–Ω—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π —Å–∂–∞—Ç–∏—è.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–î–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞—Ö –¥–ª—è —Å–∂–∞—Ç–∏—è 2-5x
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ –¥–ª—è —Å–∂–∞—Ç–∏—è 3-6x
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –≤—ã—Å–æ–∫–æ–ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∂–∞—Ç–∏—è –¥–æ 40x
- –ú–∞–ª—ã–µ —Ñ–∞–π–ª—ã (< 100 –±–∞–π—Ç) –º–æ–≥—É—Ç –∏–º–µ—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã; –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ê—Ä—Ö–∏–≤—ã –∏–¥–µ–∞–ª—å–Ω—ã –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

–ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –±–µ—Å—à–æ–≤–Ω–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π Kolibri OS –∏ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø—Ä–æ–µ–∫—Ç–∞.
